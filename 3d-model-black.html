<head>
  <style>
    body {
      margin: 0;
    }
  </style>
  <script src="https://unpkg.com/three"></script>
  <script src="https://unpkg.com/three-spritetext"></script>
  <script src="https://unpkg.com/3d-force-graph"></script>
</head>

<body>
  <input type="button" id='myButton1' onclick="myFunction()" value="Turn off Links"></input>
  <div id="3d-graph">


  </div>



  <script>
    renderer = new THREE.WebGLRenderer({ alpha: true });
    renderer.setClearColor(0x000000, 11);

    const elem = document.getElementById('3d-graph');




    gData = {
      "nodes": [
        {
          "id": "how music can help with aging and dementia?",
          "group": 0,
          "img": "1.png",
          "size": 700,
          "fx": 300,
          "fy": 0,
          "fz": 0
        },
        {
          "id": "Age-related differences in irrelevant-speech effects",
          "group": 1,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Aging and flexible remembering: Contributions of conceptual span, fluid intelligence, and frontal functioning",
          "group": 1,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Aging and variety seeking",
          "group": 1,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Aging women with schizophrenia",
          "group": 1,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "An analysis of confrontation naming errors in senile dementia of the Alzheimer type",
          "group": 1,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Anomia as a marker of distinct semantic memory impairments in Alzheimer's disease and semantic dementia",
          "group": 1,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Antecedents and consequences of unawareness of memory impairment in dementia",
          "group": 1,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "CODEM instrument: Developing a tool to assess communication behavior in dementia",
          "group": 1,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Competing cues: Older adults rely on knowledge in the face of fluency",
          "group": 1,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Damage to the medial prefrontal cortex impairs music-evoked autobiographical memories",
          "group": 1,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Differential effects of cognitive training modules in healthy aging and mild cognitive impairment: A comprehensive meta-analysis of randomized controlled trials",
          "group": 10,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Do negative views of aging influence memory and auditory performance through self-perceived abilities?",
          "group": 10,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Early life instruction in foreign language and music and incidence of mild cognitive impairment",
          "group": 10,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Effect of manipulation and irrelevant noise on working memory capacity of patients with Alzheimer's dementia",
          "group": 10,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Effect of music therapy on mood and social interaction among individuals with acute traumatic brain injury and stroke",
          "group": 10,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Effectiveness of a social robot, “Paro,” in a VA long-term care setting",
          "group": 10,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Effects of a group program to increase cognitive performance through cognitively stimulating leisure activities in healthy older subjects: The AKTIVA study",
          "group": 10,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Effects of music and grade consequences on test anxiety and performance",
          "group": 10,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Effects of musical training and absolute pitch on a pitch memory task: An event-related potential study",
          "group": 10,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Effects of programmed discriminative stimuli in a functional analysis on language disruptions in older adults with neurocognitive disorder",
          "group": 10,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Emotion effects on implicit and explicit musical memory in normal aging",
          "group": 100,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Emotion recognition in objects in patients with neurological disease",
          "group": 100,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Evaluation of a TEACCH- and music therapy-based psychological intervention in mild to moderate dementia: A controlled trial",
          "group": 100,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Eye movements and the perceptual span during first- and second-language sentence reading in bilingual older adults",
          "group": 100,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Generation effects and source memory in healthy older adults and in adults with dementia of the Alzheimer type",
          "group": 100,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Grief and joy: Emotion word comprehension in the dementias",
          "group": 100,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Group music training as a multimodal cognitive intervention for older adults",
          "group": 100,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Habit and recollection in healthy aging, mild cognitive impairment, and Alzheimer's disease",
          "group": 100,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Improvement of cognitive function after physical movement training in institutionalized very frail older adults with dementia",
          "group": 100,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Interrater agreement in memory for melody as a measure of listeners’ similarity in music perception",
          "group": 100,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Late-life depression is not associated with dementia-related pathology",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Lexical, sublexical, and implicit memory processes in healthy young and healthy older adults and in individuals with dementia of the Alzheimer type",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Listening for memories: Attentional focus dissociates functional brain networks engaged by memory-evoking music",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Music as a memory enhancer: Differences between healthy older adults and patients with Alzheimer's disease",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Music therapy and cognitive rehabilitation: Screening of music cognition in adult patients with right hemisphere stroke",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Musical structural determinants of emotional judgments in dementia of the Alzheimer type",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Neural correlates of recognition and naming of musical instruments",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "P3 event-related potentials and performance of healthy older and Alzheimer's dementia subjects for music perception tasks",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Personality and risk for Alzheimer's disease in adults 72 years of age and older: A 6-year follow-up",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Possible Selves of Individuals With Alzheimer's Disease",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Predicting episodic memory performance in dementia: Is severity all there is?",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Preference assessments in older adults with dementia",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Presentation of preferred stimuli as an intervention for aggression in a person with dementia",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Results from the multisite implementation of STAR-VA: A multicomponent psychosocial intervention for managing challenging dementia-related behaviors of veterans",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Reversal of the concreteness effect for verbs in patients with semantic dementia",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Sandplay: An adjunctive therapy to working with dementia",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Semantic, phonological, and hybrid veridical and false memories in healthy older adults and in individuals with dementia of the Alzheimer type",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Social-Adaptive Functioning Evaluation (SAFE): A rating scale for geriatric psychiatric patients",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Tablet-based outpatient care for people with dementia: The DemTab study protocol",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "The Role of Familiarity in Episodic Memory and Metamemory for Music",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "The contribution of different musical variables to the effect of background music on motor behavior",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "The effects of song familiarity and age on phenomenological characteristics and neural recruitment during autobiographical memory retrieval",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "The importance of music to seniors",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "The influence of normal aging and Alzheimer's disease in autobiographical memory highly related to the self",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "The positivity effect and auditory recognition memory for musical excerpts in young, middle-aged, and older adults",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "The relation between instrumental musical activity and cognitive aging",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "The social treatment: The benefits of group interventions in residential care settings",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Time series analysis of individual music therapy in dementia: Effects on communication behavior and emotional well-being",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "Time, music, and aging",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "What is good for me? Improving the self-determination capacity of people with dementia",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        },
        {
          "id": "“Music first”: An alternative or adjunct to psychotropic medications for the behavioral and psychological symptoms of dementia",
          "group": 1000,
          "img": "100.jpeg",
          "size": 10
        }

      ],
      "links": [
        {
          "source": "Age-related differences in irrelevant-speech effects",
          "target": "how music can help with aging and dementia?",
          "value": 145
        },

        {
          "source": "Aging and flexible remembering: Contributions of conceptual span, fluid intelligence, and frontal functioning",
          "target": "how music can help with aging and dementia?",
          "value": 290
        },
        {
          "source": "Aging and variety seeking",
          "target": "how music can help with aging and dementia?",
          "value": 290
        },
        {
          "source": "Aging women with schizophrenia",
          "target": "how music can help with aging and dementia?",
          "value": 290
        },
        {
          "source": "An analysis of confrontation naming errors in senile dementia of the Alzheimer type",
          "target": "how music can help with aging and dementia?",
          "value": 145
        },
        {
          "source": "Anomia as a marker of distinct semantic memory impairments in Alzheimer's disease and semantic dementia",
          "target": "how music can help with aging and dementia?",
          "value": 145
        },
        {
          "source": "Antecedents and consequences of unawareness of memory impairment in dementia",
          "target": "how music can help with aging and dementia?",
          "value": 290
        },
        {
          "source": "CODEM instrument: Developing a tool to assess communication behavior in dementia",
          "target": "how music can help with aging and dementia?",
          "value": 145
        },
        {
          "source": "Competing cues: Older adults rely on knowledge in the face of fluency",
          "target": "how music can help with aging and dementia?",
          "value": 290
        },
        {
          "source": "Damage to the medial prefrontal cortex impairs music-evoked autobiographical memories",
          "target": "how music can help with aging and dementia?",
          "value": 145
        },
        {
          "source": "Differential effects of cognitive training modules in healthy aging and mild cognitive impairment: A comprehensive meta-analysis of randomized controlled trials",
          "target": "how music can help with aging and dementia?",
          "value": 145
        },
        {
          "source": "Do negative views of aging influence memory and auditory performance through self-perceived abilities?",
          "target": "how music can help with aging and dementia?",
          "value": 145
        },
        {
          "source": "Early life instruction in foreign language and music and incidence of mild cognitive impairment",
          "target": "how music can help with aging and dementia?",
          "value": 145
        },
        {
          "source": "Effect of manipulation and irrelevant noise on working memory capacity of patients with Alzheimer's dementia",
          "target": "how music can help with aging and dementia?",
          "value": 290
        },
        {
          "source": "Effect of music therapy on mood and social interaction among individuals with acute traumatic brain injury and stroke",
          "target": "how music can help with aging and dementia?",
          "value": 96
        },
        {
          "source": "Effectiveness of a social robot, “Paro,” in a VA long-term care setting",
          "target": "how music can help with aging and dementia?",
          "value": 290
        },
        {
          "source": "Effects of a group program to increase cognitive performance through cognitively stimulating leisure activities in healthy older subjects: The AKTIVA study",
          "target": "how music can help with aging and dementia?",
          "value": 96
        },
        {
          "source": "Effects of music and grade consequences on test anxiety and performance",
          "target": "how music can help with aging and dementia?",
          "value": 145
        },
        {
          "source": "Effects of musical training and absolute pitch on a pitch memory task: An event-related potential study",
          "target": "how music can help with aging and dementia?",
          "value": 290
        },
        {
          "source": "Effects of programmed discriminative stimuli in a functional analysis on language disruptions in older adults with neurocognitive disorder",
          "target": "how music can help with aging and dementia?",
          "value": 290
        },
        {
          "source": "Emotion effects on implicit and explicit musical memory in normal aging",
          "target": "how music can help with aging and dementia?",
          "value": 145
        },
        {
          "source": "Emotion recognition in objects in patients with neurological disease",
          "target": "how music can help with aging and dementia?",
          "value": 96
        },
        {
          "source": "Evaluation of a TEACCH- and music therapy-based psychological intervention in mild to moderate dementia: A controlled trial",
          "target": "how music can help with aging and dementia?",
          "value": 96
        },
        {
          "source": "Eye movements and the perceptual span during first- and second-language sentence reading in bilingual older adults",
          "target": "how music can help with aging and dementia?",
          "value": 145
        },
        {
          "source": "Generation effects and source memory in healthy older adults and in adults with dementia of the Alzheimer type",
          "target": "how music can help with aging and dementia?",
          "value": 145
        },
        {
          "source": "Grief and joy: Emotion word comprehension in the dementias",
          "target": "how music can help with aging and dementia?",
          "value": 96
        },
        {
          "source": "Group music training as a multimodal cognitive intervention for older adults",
          "target": "how music can help with aging and dementia?",
          "value": 145
        },
        {
          "source": "Habit and recollection in healthy aging, mild cognitive impairment, and Alzheimer's disease",
          "target": "how music can help with aging and dementia?",
          "value": 290
        },
        {
          "source": "Improvement of cognitive function after physical movement training in institutionalized very frail older adults with dementia",
          "target": "how music can help with aging and dementia?",
          "value": 290
        },
        {
          "source": "Interrater agreement in memory for melody as a measure of listeners’ similarity in music perception",
          "target": "how music can help with aging and dementia?",
          "value": 290
        },
        {
          "source": "Late-life depression is not associated with dementia-related pathology",
          "target": "how music can help with aging and dementia?",
          "value": 145
        },
        {
          "source": "Lexical, sublexical, and implicit memory processes in healthy young and healthy older adults and in individuals with dementia of the Alzheimer type",
          "target": "how music can help with aging and dementia?",
          "value": 145
        },
        {
          "source": "Listening for memories: Attentional focus dissociates functional brain networks engaged by memory-evoking music",
          "target": "how music can help with aging and dementia?",
          "value": 145
        },
        {
          "source": "Music as a memory enhancer: Differences between healthy older adults and patients with Alzheimer's disease",
          "target": "how music can help with aging and dementia?",
          "value": 145
        },
        {
          "source": "Music therapy and cognitive rehabilitation: Screening of music cognition in adult patients with right hemisphere stroke",
          "target": "how music can help with aging and dementia?",
          "value": 145
        },
        {
          "source": "Musical structural determinants of emotional judgments in dementia of the Alzheimer type",
          "target": "how music can help with aging and dementia?",
          "value": 36
        },
        {
          "source": "Neural correlates of recognition and naming of musical instruments",
          "target": "how music can help with aging and dementia?",
          "value": 290
        },
        {
          "source": "P3 event-related potentials and performance of healthy older and Alzheimer's dementia subjects for music perception tasks",
          "target": "how music can help with aging and dementia?",
          "value": 96
        },
        {
          "source": "Personality and risk for Alzheimer's disease in adults 72 years of age and older: A 6-year follow-up",
          "target": "how music can help with aging and dementia?",
          "value": 290
        },
        {
          "source": "Possible Selves of Individuals With Alzheimer's Disease",
          "target": "how music can help with aging and dementia?",
          "value": 290
        },
        {
          "source": "Predicting episodic memory performance in dementia: Is severity all there is?",
          "target": "how music can help with aging and dementia?",
          "value": 96
        },
        {
          "source": "Preference assessments in older adults with dementia",
          "target": "how music can help with aging and dementia?",
          "value": 290
        },
        {
          "source": "Presentation of preferred stimuli as an intervention for aggression in a person with dementia",
          "target": "how music can help with aging and dementia?",
          "value": 290
        },
        {
          "source": "Results from the multisite implementation of STAR-VA: A multicomponent psychosocial intervention for managing challenging dementia-related behaviors of veterans",
          "target": "how music can help with aging and dementia?",
          "value": 290
        },
        {
          "source": "Reversal of the concreteness effect for verbs in patients with semantic dementia",
          "target": "how music can help with aging and dementia?",
          "value": 14.5
        },
        {
          "source": "Sandplay: An adjunctive therapy to working with dementia",
          "target": "how music can help with aging and dementia?",
          "value": 290
        },
        {
          "source": "Semantic, phonological, and hybrid veridical and false memories in healthy older adults and in individuals with dementia of the Alzheimer type",
          "target": "how music can help with aging and dementia?",
          "value": 14.5
        },
        {
          "source": "Social-Adaptive Functioning Evaluation (SAFE): A rating scale for geriatric psychiatric patients",
          "target": "how music can help with aging and dementia?",
          "value": 290
        },
        {
          "source": "Tablet-based outpatient care for people with dementia: The DemTab study protocol",
          "target": "how music can help with aging and dementia?",
          "value": 14.5
        },
        {
          "source": "The Role of Familiarity in Episodic Memory and Metamemory for Music",
          "target": "how music can help with aging and dementia?",
          "value": 290
        },
        {
          "source": "The contribution of different musical variables to the effect of background music on motor behavior",
          "target": "how music can help with aging and dementia?",
          "value": 14.5
        },
        {
          "source": "The effects of song familiarity and age on phenomenological characteristics and neural recruitment during autobiographical memory retrieval",
          "target": "how music can help with aging and dementia?",
          "value": 14.5
        },
        {
          "source": "The importance of music to seniors",
          "target": "how music can help with aging and dementia?",
          "value": 96
        },
        {
          "source": "The influence of normal aging and Alzheimer's disease in autobiographical memory highly related to the self",
          "target": "how music can help with aging and dementia?",
          "value": 145
        },
        {
          "source": "The positivity effect and auditory recognition memory for musical excerpts in young, middle-aged, and older adults",
          "target": "how music can help with aging and dementia?",
          "value": 290
        },
        {
          "source": "The relation between instrumental musical activity and cognitive aging",
          "target": "how music can help with aging and dementia?",
          "value": 58
        },
        {
          "source": "The social treatment: The benefits of group interventions in residential care settings",
          "target": "how music can help with aging and dementia?",
          "value": 290
        },
        {
          "source": "Time series analysis of individual music therapy in dementia: Effects on communication behavior and emotional well-being",
          "target": "how music can help with aging and dementia?",
          "value": 72.5
        },
        {
          "source": "Time, music, and aging",
          "target": "how music can help with aging and dementia?",
          "value": 290
        },
        {
          "source": "What is good for me? Improving the self-determination capacity of people with dementia",
          "target": "how music can help with aging and dementia?",
          "value": 290
        },
        {
          "source": "“Music first”: An alternative or adjunct to psychotropic medications for the behavioral and psychological symptoms of dementia",
          "target": "how music can help with aging and dementia?",
          "value": 72.5
        }//********************************






      ]
    }




    const Graph = ForceGraph3D()
      (elem)
      .graphData(gData)
      //.jsonUrl('../datasets/data2.json')
      .nodeAutoColorBy('group')
      .nodeLabel(d => `<span style="color:black">${d.id}</span>`)
      .linkOpacity(0.7)
      .nodeRelSize(10)
      
      .linkAutoColorBy(d => d.value)

      // .nodeThreeObject((node) => {

      //   // use a sphere as a drag handle
      //   const obj = new THREE.Mesh(
      //     new THREE.SphereGeometry(7),
      //     new THREE.MeshBasicMaterial({ depthWrite: false, transparent: true, opacity: 0 })
      //   );

      //   //add img sprite as child
      //   const loader = new THREE.TextureLoader();
      //   loader.load(`./imgs/${node.img}`, (texture) => {

      //     const material = new THREE.SpriteMaterial({ map: texture });

      //     const sprite = new THREE.Sprite(material);
      //     sprite.color = 'white';
      //     sprite.textHeight = 4
      //     sprite.fontFace = "Comic Sans MS"

      //     sprite.scale.set(10, 12);
      //     obj.add(sprite);
      //   });

      //   const sprite = new SpriteText(`${node.id}`);
      //   sprite.color = 'white';
      //   sprite.textHeight = 2

      //   sprite.fontFace = "Comic Sans MS"
      //   sprite.position.set(5, 5, 10)
      //   obj.add(sprite)

      //   return obj;
      // })
      //***********************************only node without images***************************************//
      .nodeThreeObject((node) => {

        // use a sphere as a drag handle


        const sprite = new SpriteText(`${node.id}`);
        sprite.color = node.color;
        sprite.textHeight = 4

        sprite.fontFace = "Comic Sans MS"
        sprite.position.set(5, 5, 10)


        return sprite;
      })


      .nodeVal('size')


      // .linkPositionUpdate((sprite, { start, end }) => {
      //   const middlePos = Object.assign(...['x', 'y', 'z'].map(c => ({
      //     [c]: start[c] + (end[c] - start[c]) / 2 // calc middle point
      //   })));

      //   // Position sprite
      //   Object.assign(sprite.position, middlePos);
      // })
      //links and labels dark



      .onNodeClick(node => {
        // Aim at node from outside it
        const distance = 40;
        const distRatio = 1 + distance / Math.hypot(node.x, node.y, node.z);

        Graph.cameraPosition(
          { x: node.x * distRatio, y: node.y * distRatio, z: node.z * distRatio }, // new position
          node, // lookAt ({ x, y, z })
          3000  // ms transition duration
        )
      })






    const linkForce = Graph
      .d3Force('link')
      .distance(link => {

        return link.value
      }
      );

    // THREE.ImageUtils.crossOrigin = '';
    // var texture = THREE.ImageUtils.loadTexture('000.jpg');
    // scene.background = texture;

    function myFunction() {
      var elem = document.getElementById("myButton1");
      if (elem.value == "Turn off Links") {
        elem.value = "Turn on Links";
        Graph.linkOpacity(0)
      }

      else {
        elem.value = "Turn off Links";
        Graph.linkOpacity(0.7)
      }


    }


    // Spread nodes a little wider
    Graph.d3Force('charge').strength(-100);





  </script>
</body>